<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hi-E ë§ˆì´í˜ì´ì§€</title>
    <link href="/css/layout/nav.css" rel="stylesheet">
    <link href="/css/modal/modal.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa; /* í˜ì´ì§€ ë°°ê²½ìƒ‰ */
        }

        .container {
            background-color: #ffffff; /* ì»¨í…Œì´ë„ˆ ë°°ê²½ìƒ‰ */
            border-radius: 10px; /* ì»¨í…Œì´ë„ˆ í…Œë‘ë¦¬ ë‘¥ê¸€ê²Œ */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì íš¨ê³¼ */
            padding: 20px; /* ì»¨í…Œì´ë„ˆ ì•ˆ ì—¬ë°± */
            padding-left: 250px;
        }

        .card {
            margin-bottom: 20px;
        }

        .profile-image {
            border-radius: 50%; /* í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ì›í˜•ìœ¼ë¡œ */
            width : 120px;
            height : 120px;
        }

        .btn-action {
            margin-right: 10px;
        }

        hr {
            margin-top: 30px;
            margin-bottom: 30px;
        }
    </style>
    <script>
        function openChangePasswordPopup() {
            window.open('/view/change-password', '_blank', 'width=800,height=600');
        }
        function openChangeProfilePopup() {
            window.open('/view/change-profile', '_blank', 'width=800,height=600');
        }
    </script>
</head>

<body>
    <div th:replace="nav :: nav"></div>
    <div class="container mt-5" >
        <!-- ê¸°ë³¸ ì •ë³´ -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>ê¸°ë³¸ ì •ë³´</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>ì´ë¦„:</strong> [[${member.ename}]]</p>
                        <p><strong>ë¶€ì„œ:</strong> [ë¶€ì„œ ì •ë³´]</p>
                        <p><strong>ê¶Œí•œ:</strong> [[${member.roles}]]</p>
                    </div>
                    <div class="col-md-6">
                        <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
					     <img class="img-fluid px-3 px-sm-4 mt-3 mb-4 profile-image"
						     th:src="@{${member.filepath == null ? member.picture : '/upload/' + member.picture}}"
						     alt="í”„ë¡œí•„ ì´ë¯¸ì§€">
                    </div>
                </div>
            </div>
        </div>

        <!-- ì—…ë¬´ ë‚´ìš© -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>ì—…ë¬´ ë‚´ìš©</h5>
            </div>
            <div class="card-body">
                <!-- ì—…ë¬´ ë‚´ìš© í‘œì‹œ -->
                <p>ì§„í–‰ì¤‘ì¸ ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- ì‘ì„±í•œ ê¸€ -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>ì‘ì„±í•œ ê¸€ğŸ“</h5>
            </div>
            <div class="card-body">
                <!-- ê¸€ ëª©ë¡ì„ ë™ì ìœ¼ë¡œ í‘œì‹œ -->
                <div th:if="${not #lists.isEmpty(mypost)}">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ê²Œì‹œíŒ</th>
                                <th>ì œëª©</th>
                                <th>ì¡°íšŒìˆ˜</th>
                                <th>ì‘ì„±ì¼ì</th>
                                <th>ì´ë™í•˜ê¸°</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="post : ${mypost}">
                                <td>ììœ ê²Œì‹œíŒ</td>
                                <td th:text="${post.title}"></td>
                                <td th:text="${post.view}"></td>
                                <td th:text="${post.createdDate}"></td>
                                <td><a th:href="@{'/freeboard/show/' + ${post.id}}">ì´ë™í•˜ê¸°</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p th:if="${#lists.isEmpty(mypost)}">ì‘ì„±í•œ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ -->
        <div class="d-flex justify-content-center" style="max-width: 100%;">
            <a href="/view/remove" class="btn btn-sm btn-warning" style="margin-right: 350px;">íšŒì›íƒˆí‡´</a><br>
		    <a href="#" class="btn btn-sm btn-danger btn-action" data-toggle="modal" data-target="#logoutModal" style="margin-right: 350px;">ë¡œê·¸ì•„ì›ƒ</a>
        </div>
        <hr/>
        <!-- ë¬´ì§€ì„±ìœ¼ë¡œ ë²„íŠ¼ ë§Œë“  ë¶€ë¶„ -->
        ë‚˜ì¤‘ì— ì‚­ì œí•  ë¶€ë¶„
        <div>
            <button class="action-button btn btn-primary btn-action" onclick="openChangePasswordPopup()">ë¹„ë²ˆ ë³€ê²½</button>
            <button class="action-button btn btn-primary btn-action" onclick="openChangeProfilePopup()">í”„ë¡œí•„ ì´ë¯¸ì§€ ë³€ê²½</button>
        </div>
    </div>
    
    <!-- ë¡œê·¸ì•„ì›ƒ ëª¨ë‹¬ -->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="logoutModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="logoutModalLabel">ë¡œê·¸ì•„ì›ƒ í™•ì¸</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    ì •ë§ë¡œ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">ì·¨ì†Œ</button>
                    <a href="/logout" class="btn btn-danger">ë¡œê·¸ì•„ì›ƒ</a>
                </div>
            </div>
        </div>
    </div>
    
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="/js/modal/modal.js"></script>>

</body>

</html>